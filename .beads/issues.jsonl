{"id":"otherworlds-rpg-0b4","title":"Implement API route handlers","description":"Implement route handlers for each bounded context in otherworlds-api. Currently all domain routes return empty Router::new(). Each context needs command endpoints (POST) that accept JSON, dispatch to command handlers, and return results, plus query endpoints (GET) that read projections. Routes nest at /api/v1/{context} (e.g., /api/v1/narrative, /api/v1/characters). Requires AppState to have EventRepository wired in.","status":"open","priority":1,"issue_type":"task","owner":"chris.bartling@gmail.com","created_at":"2026-02-27T22:24:08.398889-06:00","created_by":"Christopher Bartling","updated_at":"2026-02-27T22:24:08.398889-06:00","dependencies":[{"issue_id":"otherworlds-rpg-0b4","depends_on_id":"otherworlds-rpg-6mf","type":"blocks","created_at":"2026-02-27T22:24:13.441017-06:00","created_by":"Christopher Bartling"},{"issue_id":"otherworlds-rpg-0b4","depends_on_id":"otherworlds-rpg-4ln","type":"blocks","created_at":"2026-02-27T22:24:13.498771-06:00","created_by":"Christopher Bartling"}]}
{"id":"otherworlds-rpg-4ln","title":"Implement domain command handlers","description":"Implement command handlers for the 7 domain crates (narrative, rules, world-state, character, inventory, session, content). Each crate has an empty placeholder at src/application/command_handlers.rs. Handlers should accept Commands, validate them, produce DomainEvents, and persist via EventRepository. Follow the event-driven flow: Command -\u003e CommandHandler -\u003e DomainEvent(s) -\u003e EventRepository.append_events(). Use TDD â€” write failing tests first.","status":"open","priority":1,"issue_type":"task","owner":"chris.bartling@gmail.com","created_at":"2026-02-27T22:24:02.067395-06:00","created_by":"Christopher Bartling","updated_at":"2026-02-27T22:24:02.067395-06:00","dependencies":[{"issue_id":"otherworlds-rpg-4ln","depends_on_id":"otherworlds-rpg-6mf","type":"blocks","created_at":"2026-02-27T22:24:13.379423-06:00","created_by":"Christopher Bartling"}]}
{"id":"otherworlds-rpg-6mf","title":"Wire PgEventRepository into AppState","description":"Add an Arc\u003cdyn EventRepository + Send + Sync\u003e field to AppState in otherworlds-api so route handlers can access the event store. Instantiate PgEventRepository from the PgPool during server startup in main.rs. Currently AppState holds PgPool, Clock, and Rng but the repository is not wired in.","status":"open","priority":0,"issue_type":"task","owner":"chris.bartling@gmail.com","created_at":"2026-02-27T22:23:56.128387-06:00","created_by":"Christopher Bartling","updated_at":"2026-02-27T22:23:56.128387-06:00"}
